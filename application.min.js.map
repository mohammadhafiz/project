{"version":3,"sources":["application.js","routes.js","en.js","ms.js","access_control_controller.js","login_controller.js","modules_controller.js","access_control/clients_controller.js","access_control/users_controller.js","access_control/clients/create_controller.js","access_control/clients/read_controller.js","access_control/clients/update_controller.js","access_control/users/create_controller.js","access_control/users/read_controller.js","api.js","auth.js","client.js","http_interceptor.js","user.js"],"names":["application","angular","module","config","$httpProvider","defaults","headers","common","Accept","post","Content-Type","put","delete","interceptors","push","$mdThemingProvider","alwaysWatchTheme","theme","primaryPalette","accentPalette","default","$translateProvider","useSanitizeValueStrategy","preferredLanguage","$locationProvider","$routeProvider","html5Mode","hashPrefix","when","controller","templateUrl","resolve","isGuest","Auth","isLogged","session","user","$route","User","get","user_id","current","params","$promise","client","Client","client_id","otherwise","redirectTo","run","$location","$rootScope","$on","event","previous","rejection","path","forget","translations","action_back","action_cancel","action_create","action_create_client","action_create_user","action_delete","action_login","action_logout","action_menu","action_more","action_search","action_update","action_update_client","dialog_content_delete_record","dialog_title_delete_record","label_created_at","label_id","label_name","label_password","label_password_confirmation","label_secret","label_updated_at","label_username","placeholder","title_access_control","title_arrears_management","title_client_management","title_grant_management","title_login","title_menu","title_modules","title_record_count","title_scope_management","title_settings","title_user_management","toast_incorrect_credentials","toast_invalid_refresh_token","toast_validation_failed","validation_maxlength_24","validation_maxlength_40","validation_minlength_4","validation_required","button_login","$scope","modules","clientManagement","grantManagement","scopeManagement","userManagement","credentials","username","password","login","verify","then","$timeout","accessControl","logout","$mdDialog","$mdSidenav","$translate","limit","page","clients","create","$event","confirm","title","content","ok","cancel","targetEvent","dialog","show","id","splice","indexOf","load","options","skip","query","data","length","concat","menu","open","read","regex","actual","expected","match","RegExp","update","users","name","$save","back","$window","$update","history","password_confirmation","add","factory","Settings","api","access_token","scopes","grants","grantScopes","clientGrants","clientScopes","endpoint","host","$http","$q","API","auth","deferred","defer","localStorage","removeItem","promise","handler","response","expires_in","refresh_token","token_type","reject","hasOwnProperty","refresh","grant_type","client_secret","scope","join","$resource","method","save","isArray","$injector","refreshPromise","httpInterceptor","request","Authorization","responseError","console","error","status","text","$mdToast","toast","simple","position","message"],"mappings":"AAAA,GAAAA,aAAAC,QAAAC,OAAA,eACA,YACA,SACA,aACA,kBACA,aACA,aACA,UACA,aACA,yBACA,uBACA,yBAGAF,aAAAG,QAAA,gBACA,SAAAC,GAEAA,EAAAC,SAAAC,SACAC,QACAC,OAAA,qCAEAC,MACAC,eAAA,oBAEAC,KACAD,eAAA,oBAEAE,UACAF,eAAA,qBAIAN,EAAAS,aAAAC,KAAA,sBAGAd,YAAAG,QAAA,qBACA,SAAAY,GAEAA,EAAAC,kBAAA,GAEAD,EAAAE,MAAA,OACAC,eAAA,OACAC,cAAA,UAEAJ,EAAAE,MAAA,SACAC,eAAA,QACAE,UAAA,QAEAD,cAAA,WAGAnB,YAAAG,QAAA,qBACA,SAAAkB,GAEAA,EAAAC,yBAAA,YACAD,EAAAE,kBAAA,SCvDAvB,YAAAG,QAAA,oBAAA,iBACA,SAAAqB,EAAAC,GAEAD,EAAAE,WAAA,GACAC,WAAA,MAEAF,EACAG,KAAA,UACAC,WAAA,kBACAC,YAAA,aACAC,SACAC,SAAA,OAAA,SAAAC,GAEA,MAAAA,GAAAD,eAIAJ,KAAA,YACAC,WAAA,oBACAC,YAAA,eACAC,SACAG,UAAA,OAAA,SAAAD,GAEA,MAAAA,GAAAC,aAEAC,SAAA,OAAA,SAAAF,GAEA,MAAAA,GAAAE,eAIAP,KAAA,yBACAC,WAAA,+BACAC,YAAA,4BACAC,SACAG,UAAA,OAAA,SAAAD,GAEA,MAAAA,GAAAC,gBAIAN,KAAA,gCACAC,WAAA,qCACAC,YAAA,mCACAC,SACAG,UAAA,OAAA,SAAAD,GAEA,MAAAA,GAAAC,gBAIAN,KAAA,kCACAC,WAAA,mCACAC,YAAA,iCACAC,SACAG,UAAA,OAAA,SAAAD,GAEA,MAAAA,GAAAC,aAEAE,MAAA,SAAA,OAAA,SAAAC,EAAAC,GAEA,MAAAA,GAAAC,KACAC,QAAAH,EAAAI,QAAAC,OAAAF,UACAG,cAIAf,KAAA,2BACAC,WAAA,iCACAC,YAAA,8BACAC,SACAG,UAAA,OAAA,SAAAD,GAEA,MAAAA,GAAAC,gBAIAN,KAAA,kCACAC,WAAA,uCACAC,YAAA,qCACAC,SACAG,UAAA,OAAA,SAAAD,GAEA,MAAAA,GAAAC,gBAIAN,KAAA,sCACAC,WAAA,qCACAC,YAAA,mCACAC,SACAG,UAAA,OAAA,SAAAD,GAEA,MAAAA,GAAAC,aAEAU,QAAA,SAAA,SAAA,SAAAP,EAAAQ,GAEA,MAAAA,GAAAN,KACAO,UAAAT,EAAAI,QAAAC,OAAAI,YACAH,cAIAf,KAAA,6CACAC,WAAA,uCACAC,YAAA,qCACAC,SACAG,UAAA,OAAA,SAAAD,GAEA,MAAAA,GAAAC,aAEAU,QAAA,SAAA,SAAA,SAAAP,EAAAQ,GAEA,MAAAA,GAAAN,KACAO,UAAAT,EAAAI,QAAAC,OAAAI,YACAH,cAIAf,KAAA,6BACAA,KAAA,6BACAmB,WACAC,WAAA,cAIAhD,YAAAiD,KAAA,YAAA,aAAA,OACA,SAAAC,EAAAC,EAAAlB,GAEAkB,EAAAC,IAAA,oBAAA,SAAAC,EAAAZ,EAAAa,EAAAC,GAEA,OAAAA,GACA,IAAA,gBACAL,EAAAM,KAAA,WACA,MACA,KAAA,iBACAvB,EAAAwB,eCxIAzD,YAAAG,QAAA,qBACA,SAAAkB,GAEAA,EAAAqC,aAAA,MACAC,YAAA,UACAC,cAAA,SACAC,cAAA,SACAC,qBAAA,oBACAC,mBAAA,kBACAC,cAAA,SACAC,aAAA,SACAC,cAAA,UACAC,YAAA,OACAC,YAAA,OACAC,cAAA,SACAC,cAAA,SACAC,qBAAA,gBAEAC,6BAAA,qCACAC,2BAAA,wCAEAC,iBAAA,aACAC,SAAA,WACAC,WAAA,OACAC,eAAA,WACAC,4BAAA,wBACAC,aAAA,SACAC,iBAAA,aACAC,eAAA,WAEAC,YAAA,cAEAC,qBAAA,iBACAC,yBAAA,qBACAC,wBAAA,oBACAC,uBAAA,mBACAC,YAAA,SACAC,WAAA,OACAC,cAAA,cACAC,mBAAA,uCACAC,uBAAA,mBACAC,eAAA,WACAC,sBAAA,kBAEAC,4BAAA,qCACAC,4BAAA,gCACAC,wBAAA,+BAEAC,wBAAA,oDACAC,wBAAA,oDACAC,uBAAA,4CACAC,oBAAA,+BCnDApG,YAAAG,QAAA,qBACA,SAAAkB,GAEAA,EAAAqC,aAAA,MACA6B,YAAA,YACAN,eAAA,YACAJ,eAAA,aACAwB,aAAA,iBCPArG,YAAA6B,WAAA,2BAAA,YAAA,SACA,SAAAqB,EAAAoD,GAEAA,EAAAC,QAAA,WAEArD,EAAAM,KAAA,aAGA8C,EAAAE,iBAAA,WAEAtD,EAAAM,KAAA,4BAGA8C,EAAAG,gBAAA,WAEAvD,EAAAM,KAAA,2BAGA8C,EAAAI,gBAAA,WAEAxD,EAAAM,KAAA,2BAGA8C,EAAAK,eAAA,WAEAzD,EAAAM,KAAA,6BCzBAxD,YAAA6B,WAAA,mBAAA,YAAA,SAAA,OAAA,UACA,SAAAqB,EAAAoD,EAAArE,EAAAD,GAEAsE,EAAAM,aACAC,SAAA,GACAC,SAAA,IAGAR,EAAAS,MAAA,SAAAH,GAEA3E,EAAA+E,OAAAJ,GACAK,KAAA,SAAA9E,GACAe,EAAAM,KAAA,kBCZAxD,YAAA6B,WAAA,qBAAA,YAAA,SAAA,WAAA,OAAA,WAAA,UACA,SAAAqB,EAAAoD,EAAAY,EAAAjF,EAAAC,EAAAC,GAEAmE,EAAAa,cAAA,WAEAD,EAAA,WAEAhE,EAAAM,KAAA,0BACA,MAGA8C,EAAAc,OAAA,WAEAF,EAAA,WAEAjF,EAAAwB,UACA,SChBAzD,YAAA6B,WAAA,kCAAA,YAAA,YAAA,aAAA,SAAA,aAAA,SACA,SAAAqB,EAAAmE,EAAAC,EAAAhB,EAAAiB,EAAA1E,GAEAyD,EAAAkB,MAAA,GACAlB,EAAAmB,KAAA,EACAnB,EAAArF,MAAA,MACAqF,EAAAoB,WAEApB,EAAAqB,OAAA,WAEAzE,EAAAM,KAAA,mCAGA8C,EAAAA,UAAA,SAAAsB,EAAAxF,GAEAmF,GACA,6BACA,+BACA,gBACA,kBAEAN,KAAA,SAAAvD,GAEA,MAAA2D,GAAAQ,UACAC,MAAApE,EAAAe,4BACAsD,QAAArE,EAAAc,8BACAwD,GAAAtE,EAAAM,eACAiE,OAAAvE,EAAAE,eACAsE,YAAAN,KAEAX,KAAA,SAAAkB,GAEA,MAAAd,GAAAe,KAAAD,KAEAlB,KAAA,WAEA,MAAApE,GAAAA,WACAC,UAAAF,OAAAyF,KACA1F,WAEAsE,KAAA,WAEAX,EAAAoB,QAAAY,OAAAhC,EAAAoB,QAAAa,QAAA3F,QAAA,GACAM,EAAAM,KAAA,8BAIA8C,EAAAkC,KAAA,WAEA,GAAAC,KACAA,GAAAjB,MAAAlB,EAAAkB,QACAlB,EAAAmB,KAAA,IAAAgB,EAAAC,KAAApC,EAAAkB,OAAAlB,EAAAmB,KAAA,IAEA5E,EAAA8F,MAAAF,GAAA9F,SACAsE,KAAA,SAAAS,GAEAA,EAAAkB,KAAAC,OAAA,IACAvC,EAAAoB,QAAApB,EAAAoB,QAAAoB,OAAApB,EAAAkB,MACAtC,EAAAkC,WAIAlC,EAAAyC,KAAA,WAEAzB,EAAA,QAAA0B,QAGA1C,EAAA2C,KAAA,SAAArG,GAEAM,EAAAM,KAAA,2BAAAZ,EAAAyF,KAGA/B,EAAA4C,MAAA,SAAAC,EAAAC,GAEA,MAAAD,GAAAE,MAAA,GAAAC,QAAAF,EAAA,OAGA9C,EAAAiD,OAAA,SAAA3G,GAEAM,EAAAM,KAAA,2BAAAZ,EAAAyF,GAAA,YAGA/B,EAAAkC,UClFAxI,YAAA6B,WAAA,gCAAA,YAAA,YAAA,aAAA,SAAA,aAAA,OACA,SAAAqB,EAAAmE,EAAAC,EAAAhB,EAAAiB,EAAAjF,GAEAgE,EAAAkB,MAAA,GACAlB,EAAAmB,KAAA,EACAnB,EAAArF,MAAA,MACAqF,EAAAkD,SAEAlD,EAAAqB,OAAA,WAEAzE,EAAAM,KAAA,iCAGA8C,EAAAA,UAAA,SAAAsB,EAAAxF,GAEAmF,GACA,6BACA,+BACA,gBACA,kBAEAN,KAAA,SAAAvD,GAEA,MAAA2D,GAAAQ,UACAC,MAAApE,EAAAe,4BACAsD,QAAArE,EAAAc,8BACAwD,GAAAtE,EAAAM,eACAiE,OAAAvE,EAAAE,eACAsE,YAAAN,KAEAX,KAAA,SAAAkB,GAEA,MAAAd,GAAAe,KAAAD,KAEAlB,KAAA,WAEA,MAAA3E,GAAAA,WACAE,QAAAJ,EAAAiG,KACA1F,WAEAsE,KAAA,WAEAX,EAAAkD,MAAAlB,OAAAhC,EAAAkD,MAAAjB,QAAAnG,GAAA,GACAc,EAAAM,KAAA,4BAIA8C,EAAAkC,KAAA,WAEA,GAAAC,KACAA,GAAAjB,MAAAlB,EAAAkB,QACAlB,EAAAmB,KAAA,IAAAgB,EAAAC,KAAApC,EAAAkB,OAAAlB,EAAAmB,KAAA,IAEAnF,EAAAqG,MAAAF,GAAA9F,SACAsE,KAAA,SAAAuC,GAEAA,EAAAZ,KAAAC,OAAA,IACAvC,EAAAkD,MAAAlD,EAAAkD,MAAAV,OAAAU,EAAAZ,MACAtC,EAAAkC,WAIAlC,EAAAyC,KAAA,WAEAzB,EAAA,QAAA0B,QAGA1C,EAAA2C,KAAA,SAAA7G,GAEAc,EAAAM,KAAA,yBAAApB,EAAAiG,KAGA/B,EAAA4C,MAAA,SAAAC,EAAAC,GAEA,MAAAD,GAAAE,MAAA,GAAAC,QAAAF,EAAA,OAGA9C,EAAAkC,UC7EAxI,YAAA6B,WAAA,wCAAA,YAAA,SAAA,SACA,SAAAqB,EAAAoD,EAAAzD,GAEAyD,EAAAsC,MACAa,KAAA,IAGAnD,EAAAqB,OAAA,SAAAiB,GAEA,GAAAhG,GAAA,GAAAC,GAAA+F,EAEAhG,GAAA8G,QACAzC,KAAA,WAEA/D,EAAAM,KAAA,8BAIA8C,EAAAqD,KAAA,WAEAzG,EAAAM,KAAA,+BCpBAxD,YAAA6B,WAAA,sCAAA,YAAA,YAAA,SAAA,aAAA,SAAA,SACA,SAAAqB,EAAAmE,EAAAf,EAAAiB,EAAA1E,EAAAD,GAEA0D,EAAA1D,OAAAA,EAAAgG,KAEAtC,EAAAqD,KAAA,WAEAzG,EAAAM,KAAA,4BAGA8C,EAAAA,UAAA,SAAAsB,EAAAhF,GAEA2E,GACA,6BACA,+BACA,gBACA,kBAEAN,KAAA,SAAAvD,GAEA,MAAA2D,GAAAQ,UACAC,MAAApE,EAAAe,4BACAsD,QAAArE,EAAAc,8BACAwD,GAAAtE,EAAAM,eACAiE,OAAAvE,EAAAE,eACAsE,YAAAN,KAEAX,KAAA,SAAAkB,GAEA,MAAAd,GAAAe,KAAAD,KAEAlB,KAAA,WAEA,MAAApE,GAAAA,WACAC,UAAAF,EAAAyF,OAGApB,KAAA,WAEA/D,EAAAM,KAAA,8BAIA8C,EAAAiD,OAAA,SAAA3G,GAEAM,EAAAM,KAAA,2BAAAZ,EAAAyF,GAAA,eC7CArI,YAAA6B,WAAA,wCAAA,SAAA,UAAA,SAAA,SACA,SAAAyE,EAAAsD,EAAA/G,EAAAD,GAEA0D,EAAAsC,KAAAhG,EAAAgG,KAEAtC,EAAAiD,OAAA,SAAAX,GAEA,GAAAhG,GAAA,GAAAC,GAAA+F,EAEAhG,GAAAiH,UACA5C,KAAA,WAEA2C,EAAAE,QAAAH,UAIArD,EAAAqD,KAAA,WAEAC,EAAAE,QAAAH,WClBA3J,YAAA6B,WAAA,sCAAA,YAAA,SAAA,OACA,SAAAqB,EAAAoD,EAAAhE,GAEAgE,EAAAsC,MACA/B,SAAA,GACAC,SAAA,GACAiD,sBAAA,IAGAzD,EAAA0D,IAAA,SAAApB,GAEA,GAAAxG,GAAA,GAAAE,GAAAsG,EAEAxG,GAAAsH,QACAzC,KAAA,WAEA/D,EAAAM,KAAA,4BAIA8C,EAAAqD,KAAA,WAEAzG,EAAAM,KAAA,6BCtBAxD,YAAA6B,WAAA,oCAAA,YAAA,YAAA,SAAA,aAAA,OAAA,OACA,SAAAqB,EAAAmE,EAAAf,EAAAiB,EAAAjF,EAAAF,GAEAkE,EAAAlE,KAAAA,EAAAwG,KAEAtC,EAAAqD,KAAA,WAEAzG,EAAAM,KAAA,0BAGA8C,EAAAA,UAAA,SAAAsB,EAAAxF,GAEAmF,GACA,6BACA,+BACA,gBACA,kBAEAN,KAAA,SAAAvD,GAEA,MAAA2D,GAAAQ,UACAC,MAAApE,EAAAe,4BACAsD,QAAArE,EAAAc,8BACAwD,GAAAtE,EAAAM,eACAiE,OAAAvE,EAAAE,eACAsE,YAAAN,KAEAX,KAAA,SAAAkB,GAEA,MAAAd,GAAAe,KAAAD,KAEAlB,KAAA,WAEA,MAAA3E,GAAAA,WACAE,QAAAJ,EAAAiG,KACA1F,WAEAsE,KAAA,WAEA/D,EAAAM,KAAA,+BCvCAxD,YAAAiK,QAAA,OAAA,WACA,SAAAC,GAEA,GAAAC,KAiBA,OAfAA,GAAAC,aAAA,oBACAD,EAAAhI,QAAA,eACAgI,EAAAX,MAAA,sBACAW,EAAAE,OAAA,wBACAF,EAAAG,OAAA,wBACAH,EAAAI,YAAA,yCACAJ,EAAAzC,QAAA,0BACAyC,EAAAK,aAAA,2CACAL,EAAAM,aAAA,2CAEAN,EAAA5H,IAAA,SAAAmI,GAEA,MAAAR,GAAAS,KAAA7B,OAAAqB,EAAAO,KAGAP,KCpBAnK,YAAAiK,QAAA,QAAA,QAAA,YAAA,KAAA,UAAA,MAAA,WACA,SAAAW,EAAA1H,EAAA2H,EAAAjB,EAAAkB,EAAAZ,GAEA,GAAAa,KA6FA,OA3FAA,GAAAtH,OAAA,WAEA,GAAAuH,GAAAH,EAAAI,OAUA,OARArB,GAAAsB,aAAAC,WAAA,cACAvB,EAAAsB,aAAAC,WAAA,gBACAvB,EAAAsB,aAAAC,WAAA,iBACAvB,EAAAsB,aAAAC,WAAA,cACAjI,EAAAM,KAAA,UAEAwH,EAAAjJ,UAEAiJ,EAAAI,SAGAL,EAAAM,QAAA,SAAAC,GAMA,MAJA1B,GAAAsB,aAAAK,WAAAD,EAAA1C,KAAA2C,WACA3B,EAAAsB,aAAAd,aAAAkB,EAAA1C,KAAAwB,aACAR,EAAAsB,aAAAM,cAAAF,EAAA1C,KAAA4C,cACA5B,EAAAsB,aAAAO,WAAAH,EAAA1C,KAAA6C,WACAH,GAGAP,EAAA/I,QAAA,WAEA,GAAAgJ,GAAAH,EAAAI,OAYA,OAVAF,GAAA7I,WACA+E,KAAA,WAEA+D,EAAAU,OAAA,mBAHAX,SAKA,WAEAC,EAAAjJ,SAAA,KAGAiJ,EAAAI,SAGAL,EAAA7I,SAAA,WAEA,GAAA8I,GAAAH,EAAAI,OAWA,OATArB,GAAAsB,aAAAS,eAAA,eACA/B,EAAAsB,aAAAS,eAAA,iBACA/B,EAAAsB,aAAAS,eAAA,kBACA/B,EAAAsB,aAAAS,eAAA,cACAX,EAAAjJ,SAAA,GAEAiJ,EAAAU,OAAA,kBAGAV,EAAAI,SAGAL,EAAAa,QAAA,WAEA,GAAAhD,IACAiD,WAAA,gBACA/I,UAAAoH,EAAApH,UACAgJ,cAAA5B,EAAA4B,cACAC,MAAA7B,EAAAG,OAAA2B,OACAR,cAAA5B,EAAAsB,aAAAM,cAGA,OAAAZ,GAAAnK,KAAAqK,EAAAvI,IAAA,gBAAAqG,GACA3B,KAAA8D,EAAAM,UAGAN,EAAA5I,QAAA,WAEA,MAAAyI,GAAArI,IAAAuI,EAAAvI,IAAA,aAGAwI,EAAA/D,OAAA,SAAAJ,GAEA,GAAAgC,IACAiD,WAAA,WACA/I,UAAAoH,EAAApH,UACAgJ,cAAA5B,EAAA4B,cACAC,MAAA7B,EAAAG,OAAA2B,OACAnF,SAAAD,EAAA,SACAE,SAAAF,EAAA,SAGA,OAAAgE,GAAAnK,KAAAqK,EAAAvI,IAAA,gBAAAqG,GACA3B,KAAA8D,EAAAM,UAGAN,KChGA/K,YAAAiK,QAAA,UAAA,YAAA,MACA,SAAAgC,EAAAnB,GAEA,MAAAmB,GAAAnB,EAAAvI,IAAA,YACAO,UAAA,QAEAlC,UACAsL,OAAA,UAEA3J,KACA2J,OAAA,OAEAC,MACAD,OAAA,QAEAvD,OACAuD,OAAA,MACAE,SAAA,GAEA7C,QACA2C,OAAA,YCpBAlM,YAAAiK,QAAA,mBAAA,YAAA,KAAA,aAAA,UACA,SAAAoC,EAAAxB,EAAAtD,EAAAqC,GAEA,GAAA0C,GAAA,KAEAC,IA8EA,OA5EAA,GAAAC,QAAA,SAAArM,GAEA,GAAAkM,EAAA9J,IAAA,QAAAL,WAAA,CACA,GAAAuJ,GAAA7B,EAAAsB,aAAAO,WACArB,EAAAR,EAAAsB,aAAAd,YACAjK,GAAAG,QAAAmM,cAAAhB,EAAA,IAAArB,EAGA,MAAAjK,IAGAoM,EAAAG,cAAA,SAAAnJ,GAIA,OAFAoJ,QAAAC,MAAArJ,GAEAA,EAAAsJ,QACA,IAAA,KAIA,MAHAP,GAAAA,EAAAA,EACAD,EAAA9J,IAAA,QAAAqJ,UAEAU,EAAAA,WAAA,WAEAA,EAAA,OAEArF,KAAA,WAEA,MAAAoF,GAAA9J,IAAA,SAAAgB,EAAApD,SAGA,KAAA,KAWA,MAVAoH,GAAA,2BACAN,KAAA,SAAA6F,GAEA,GAAAC,GAAAV,EAAA9J,IAAA,YACAyK,EAAAD,EAAAE,SACAlF,QAAA+E,GACAI,SAAA,oBACAH,GAAA3E,KAAA4E,KAGAnC,EAAAa,OAAAnI,EAEA,KAAA,KACA,MAAA,wCAAAA,EAAAqF,KAAAuE,SACA5F,EAAA,+BACAN,KAAA,SAAA6F,GAEA,GAAAC,GAAAV,EAAA9J,IAAA,YACAyK,EAAAD,EAAAE,SACAlF,QAAA+E,GACAI,SAAA,oBACAH,GAAA3E,KAAA4E,KAGAnC,EAAAa,OAAAnI,KAGA,iCAAAA,EAAAqF,KAAAuE,SACA5F,EAAA,+BACAN,KAAA,SAAA6F,GAEA,GAAAC,GAAAV,EAAA9J,IAAA,YACAyK,EAAAD,EAAAE,SACAlF,QAAA+E,GACAI,SAAA,oBACAH,GAAA3E,KAAA4E,KAIAX,EAAA9J,IAAA,QACAkB,SAEAoH,EAAAa,OAAAnI,MAIAgJ,KCnFAvM,YAAAiK,QAAA,QAAA,YAAA,MACA,SAAAgC,EAAAnB,GAEA,MAAAmB,GAAAnB,EAAAvI,IAAA,UACAC,QAAA,QAEA5B,UACAsL,OAAA,UAEA3J,KACA2J,OAAA,OAEAC,MACAD,OAAA,QAEAvD,OACAuD,OAAA,MACAE,SAAA,GAEA7C,QACA2C,OAAA","file":"application.min.js","sourcesContent":["var application = angular.module('application', [\r\n    'ngAnimate',\r\n    'ngAria',\r\n    'ngMaterial',\r\n    'ngMessageFormat',\r\n    'ngMessages',\r\n    'ngResource',\r\n    'ngRoute',\r\n    'ngSanitize',\r\n    'pascalprecht.translate', // angular-translate\r\n    'application.settings', // application settings\r\n    'application.templates', // application templates cache\r\n]);\r\n\r\napplication.config(['$httpProvider',\r\n    function($httpProvider)\r\n    {\r\n        $httpProvider.defaults.headers = {\r\n            common: {\r\n                Accept: 'application/vnd.menggaris.v1+json',\r\n            },\r\n            post: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            put: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            delete: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        };\r\n\r\n        $httpProvider.interceptors.push('HttpInterceptor');\r\n    }]);\r\n\r\napplication.config(['$mdThemingProvider',\r\n    function($mdThemingProvider)\r\n    {\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n        $mdThemingProvider.theme('red')\r\n            .primaryPalette('red')\r\n            .accentPalette('indigo');\r\n\r\n        $mdThemingProvider.theme('white')\r\n            .primaryPalette('grey', {\r\n                default: '200',\r\n            })\r\n            .accentPalette('blue');\r\n    }]);\r\n\r\napplication.config(['$translateProvider',\r\n    function($translateProvider)\r\n    {\r\n        $translateProvider.useSanitizeValueStrategy('sanitize');\r\n        $translateProvider.preferredLanguage('en');\r\n    }]);\r\n","application.config(['$locationProvider', '$routeProvider',\r\n    function($locationProvider, $routeProvider)\r\n    {\r\n        $locationProvider.html5Mode(true)\r\n            .hashPrefix('#!');\r\n\r\n        $routeProvider\r\n            .when('/login', {\r\n                controller: 'LoginController',\r\n                templateUrl: 'login.html',\r\n                resolve: {\r\n                    isGuest: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isGuest();\r\n                    }],\r\n                },\r\n            })\r\n            .when('/modules', {\r\n                controller: 'ModulesController',\r\n                templateUrl: 'modules.html',\r\n                resolve: {\r\n                    isLogged: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isLogged();\r\n                    }],\r\n                    session: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.session();\r\n                    }],\r\n                },\r\n            })\r\n            .when('/access_control/users', {\r\n                controller: 'AccessControlUsersController',\r\n                templateUrl: 'access_control/users.html',\r\n                resolve: {\r\n                    isLogged: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isLogged();\r\n                    }],\r\n                },\r\n            })\r\n            .when('/access_control/users/create', {\r\n                controller: 'AccessControlUsersCreateController',\r\n                templateUrl: 'access_control/users/create.html',\r\n                resolve: {\r\n                    isLogged: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isLogged();\r\n                    }],\r\n                },\r\n            })\r\n            .when('/access_control/users/:user_id', {\r\n                controller: 'AccessControlUsersReadController',\r\n                templateUrl: 'access_control/users/read.html',\r\n                resolve: {\r\n                    isLogged: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isLogged();\r\n                    }],\r\n                    user: ['$route', 'User', function($route, User)\r\n                    {\r\n                        return User.get({\r\n                            user_id: $route.current.params.user_id,\r\n                        }).$promise;\r\n                    }],\r\n                },\r\n            })\r\n            .when('/access_control/clients', {\r\n                controller: 'AccessControlClientsController',\r\n                templateUrl: 'access_control/clients.html',\r\n                resolve: {\r\n                    isLogged: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isLogged();\r\n                    }],\r\n                },\r\n            })\r\n            .when('/access_control/clients/create', {\r\n                controller: 'AccessControlClientsCreateController',\r\n                templateUrl: 'access_control/clients/create.html',\r\n                resolve: {\r\n                    isLogged: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isLogged();\r\n                    }],\r\n                },\r\n            })\r\n            .when('/access_control/clients/:client_id', {\r\n                controller: 'AccessControlClientsReadController',\r\n                templateUrl: 'access_control/clients/read.html',\r\n                resolve: {\r\n                    isLogged: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isLogged();\r\n                    }],\r\n                    client: ['$route', 'Client', function($route, Client)\r\n                    {\r\n                        return Client.get({\r\n                            client_id: $route.current.params.client_id,\r\n                        }).$promise;\r\n                    }],\r\n                },\r\n            })\r\n            .when('/access_control/clients/:client_id/update', {\r\n                controller: 'AccessControlClientsUpdateController',\r\n                templateUrl: 'access_control/clients/update.html',\r\n                resolve: {\r\n                    isLogged: ['Auth', function(Auth)\r\n                    {\r\n                        return Auth.isLogged();\r\n                    }],\r\n                    client: ['$route', 'Client', function($route, Client)\r\n                    {\r\n                        return Client.get({\r\n                            client_id: $route.current.params.client_id,\r\n                        }).$promise;\r\n                    }],\r\n                },\r\n            })\r\n            .when('/access_control/grants', {})\r\n            .when('/access_control/scopes', {})\r\n            .otherwise({\r\n                redirectTo: '/login',\r\n            });\r\n    }]);\r\n\r\napplication.run(['$location', '$rootScope', 'Auth',\r\n    function($location, $rootScope, Auth)\r\n    {\r\n        $rootScope.$on('$routeChangeError', function(event, current, previous, rejection)\r\n        {\r\n            switch (rejection) {\r\n                case 'auth.is_guest':\r\n                    $location.path('/modules');\r\n                    break;\r\n                case 'auth.is_logged':\r\n                    Auth.forget();\r\n                    break;\r\n            }\r\n        });\r\n    }]);\r\n","application.config(['$translateProvider',\r\n    function($translateProvider)\r\n    {\r\n        $translateProvider.translations('en', {\r\n            'action_back': 'Go back',\r\n            'action_cancel': 'Cancel',\r\n            'action_create': 'Create',\r\n            'action_create_client': 'Create new client',\r\n            'action_create_user': 'Create new user',\r\n            'action_delete': 'Delete',\r\n            'action_login': 'Log in',\r\n            'action_logout': 'Log out',\r\n            'action_menu': 'Menu',\r\n            'action_more': 'More',\r\n            'action_search': 'Search',\r\n            'action_update': 'Update',\r\n            'action_update_client': 'Update client',\r\n\r\n            'dialog_content_delete_record': 'Deleted record cannot be restored.',\r\n            'dialog_title_delete_record': 'Would you like to delete this record?',\r\n\r\n            'label_created_at': 'Created At',\r\n            'label_id': 'Identity',\r\n            'label_name': 'Name',\r\n            'label_password': 'Password',\r\n            'label_password_confirmation': 'Password Confirmation',\r\n            'label_secret': 'Secret',\r\n            'label_updated_at': 'Updated At',\r\n            'label_username': 'Username',\r\n\r\n            'placeholder': 'Placeholder',\r\n\r\n            'title_access_control': 'Access Control',\r\n            'title_arrears_management': 'Arrears Management',\r\n            'title_client_management': 'Client Management',\r\n            'title_grant_management': 'Grant Management',\r\n            'title_login': 'Log In',\r\n            'title_menu': 'Menu',\r\n            'title_modules': 'Module List',\r\n            'title_record_count': 'Showing total of {{ length }} record',\r\n            'title_scope_management': 'Scope Management',\r\n            'title_settings': 'Settings',\r\n            'title_user_management': 'User Management',\r\n\r\n            'toast_incorrect_credentials': 'The user credentials is incorrect.',\r\n            'toast_invalid_refresh_token': 'The refresh token is invalid.',\r\n            'toast_validation_failed': 'Validation failed on server.',\r\n\r\n            'validation_maxlength_24': 'This field may not be greater than 24 characters.',\r\n            'validation_maxlength_40': 'This field may not be greater than 40 characters.',\r\n            'validation_minlength_4': 'This field must be at least 4 characters.',\r\n            'validation_required': 'This field is required.',\r\n        });\r\n    }]);\r\n","application.config(['$translateProvider',\r\n    function($translateProvider)\r\n    {\r\n        $translateProvider.translations('ms', {\r\n            'title_login': 'Log masuk',\r\n            'label_username': 'Kata nama',\r\n            'label_password': 'Kata kunci',\r\n            'button_login': 'Log masuk',\r\n        });\r\n    }]);\r\n","application.controller('AccessControlController', ['$location', '$scope',\r\n    function($location, $scope)\r\n    {\r\n        $scope.modules = function()\r\n        {\r\n            $location.path('/modules');\r\n        };\r\n\r\n        $scope.clientManagement = function()\r\n        {\r\n            $location.path('/access_control/clients');\r\n        };\r\n\r\n        $scope.grantManagement = function()\r\n        {\r\n            $location.path('/access_control/grants');\r\n        };\r\n\r\n        $scope.scopeManagement = function()\r\n        {\r\n            $location.path('/access_control/scopes');\r\n        };\r\n\r\n        $scope.userManagement = function()\r\n        {\r\n            $location.path('/access_control/users');\r\n        };\r\n    }]);\r\n","application.controller('LoginController', ['$location', '$scope', 'Auth', 'isGuest',\r\n    function($location, $scope, Auth, isGuest)\r\n    {\r\n        $scope.credentials = {\r\n            username: '',\r\n            password: '',\r\n        };\r\n\r\n        $scope.login = function(credentials)\r\n        {\r\n            Auth.verify(credentials)\r\n                .then(function (session) {\r\n                    $location.path('/modules');\r\n                });\r\n        };\r\n    }]);\r\n","application.controller('ModulesController', ['$location', '$scope', '$timeout', 'Auth', 'isLogged', 'session',\r\n    function($location, $scope, $timeout, Auth, isLogged, session)\r\n    {\r\n        $scope.accessControl = function()\r\n        {\r\n            $timeout(function()\r\n            {\r\n                $location.path('/access_control/users');\r\n            }, 500);\r\n        };\r\n\r\n        $scope.logout = function()\r\n        {\r\n            $timeout(function()\r\n            {\r\n                Auth.forget();\r\n            }, 500);\r\n        };\r\n    }]);\r\n","application.controller('AccessControlClientsController', ['$location', '$mdDialog', '$mdSidenav', '$scope', '$translate', 'Client',\r\n    function($location, $mdDialog, $mdSidenav, $scope, $translate, Client)\r\n    {\r\n        $scope.limit = 50;\r\n        $scope.page = 0;\r\n        $scope.theme = 'red';\r\n        $scope.clients = [];\r\n\r\n        $scope.create = function()\r\n        {\r\n            $location.path('/access_control/clients/create');\r\n        };\r\n\r\n        $scope.delete = function($event, user)\r\n        {\r\n            $translate([\r\n                'dialog_title_delete_record',\r\n                'dialog_content_delete_record',\r\n                'action_delete',\r\n                'action_cancel',\r\n            ])\r\n            .then(function(translations)\r\n            {\r\n                return $mdDialog.confirm()\r\n                    .title(translations.dialog_title_delete_record)\r\n                    .content(translations.dialog_content_delete_record)\r\n                    .ok(translations.action_delete)\r\n                    .cancel(translations.action_cancel)\r\n                    .targetEvent($event);\r\n            })\r\n            .then(function(dialog)\r\n            {\r\n                return $mdDialog.show(dialog);\r\n            })\r\n            .then(function()\r\n            {\r\n                return Client.delete({\r\n                    client_id: client.id,\r\n                }).$promise;\r\n            })\r\n            .then(function()\r\n            {\r\n                $scope.clients.splice($scope.clients.indexOf(client), 1);\r\n                $location.path('/access_control/clients');\r\n            });\r\n        };\r\n\r\n        $scope.load = function()\r\n        {\r\n            var options = {};\r\n            options.limit = $scope.limit;\r\n            if (++$scope.page > 1) options.skip = $scope.limit * ($scope.page - 1);\r\n\r\n            Client.query(options).$promise\r\n                .then(function(clients)\r\n                {\r\n                    if (clients.data.length < 1) return;\r\n                    $scope.clients = $scope.clients.concat(clients.data);\r\n                    $scope.load();\r\n                });\r\n        };\r\n\r\n        $scope.menu = function()\r\n        {\r\n            $mdSidenav('menu').open();\r\n        };\r\n\r\n        $scope.read = function(client)\r\n        {\r\n            $location.path('/access_control/clients/' + client.id);\r\n        };\r\n\r\n        $scope.regex = function(actual, expected)\r\n        {\r\n            return actual.match(new RegExp(expected, 'i'));\r\n        };\r\n\r\n        $scope.update = function(client)\r\n        {\r\n            $location.path('/access_control/clients/' + client.id + '/update');\r\n        };\r\n\r\n        $scope.load();\r\n    }]);\r\n","application.controller('AccessControlUsersController', ['$location', '$mdDialog', '$mdSidenav', '$scope', '$translate', 'User',\r\n    function($location, $mdDialog, $mdSidenav, $scope, $translate, User)\r\n    {\r\n        $scope.limit = 50;\r\n        $scope.page = 0;\r\n        $scope.theme = 'red';\r\n        $scope.users = [];\r\n\r\n        $scope.create = function()\r\n        {\r\n            $location.path('/access_control/users/create');\r\n        };\r\n\r\n        $scope.delete = function($event, user)\r\n        {\r\n            $translate([\r\n                'dialog_title_delete_record',\r\n                'dialog_content_delete_record',\r\n                'action_delete',\r\n                'action_cancel',\r\n            ])\r\n            .then(function(translations)\r\n            {\r\n                return $mdDialog.confirm()\r\n                    .title(translations.dialog_title_delete_record)\r\n                    .content(translations.dialog_content_delete_record)\r\n                    .ok(translations.action_delete)\r\n                    .cancel(translations.action_cancel)\r\n                    .targetEvent($event);\r\n            })\r\n            .then(function(dialog)\r\n            {\r\n                return $mdDialog.show(dialog);\r\n            })\r\n            .then(function()\r\n            {\r\n                return User.delete({\r\n                    user_id: user.id,\r\n                }).$promise;\r\n            })\r\n            .then(function()\r\n            {\r\n                $scope.users.splice($scope.users.indexOf(user), 1);\r\n                $location.path('/access_control/users');\r\n            });\r\n        };\r\n\r\n        $scope.load = function()\r\n        {\r\n            var options = {};\r\n            options.limit = $scope.limit;\r\n            if (++$scope.page > 1) options.skip = $scope.limit * ($scope.page - 1);\r\n\r\n            User.query(options).$promise\r\n                .then(function(users)\r\n                {\r\n                    if (users.data.length < 1) return;\r\n                    $scope.users = $scope.users.concat(users.data);\r\n                    $scope.load();\r\n                });\r\n        };\r\n\r\n        $scope.menu = function()\r\n        {\r\n            $mdSidenav('menu').open();\r\n        };\r\n\r\n        $scope.read = function(user)\r\n        {\r\n            $location.path('/access_control/users/' + user.id);\r\n        };\r\n\r\n        $scope.regex = function(actual, expected)\r\n        {\r\n            return actual.match(new RegExp(expected, 'i'));\r\n        };\r\n\r\n        $scope.load();\r\n    }]);\r\n","application.controller('AccessControlClientsCreateController', ['$location', '$scope', 'Client',\r\n    function($location, $scope, Client)\r\n    {\r\n        $scope.data = {\r\n            name: '',\r\n        };\r\n\r\n        $scope.create = function(data)\r\n        {\r\n            var client = new Client(data);\r\n\r\n            client.$save()\r\n                .then(function()\r\n                {\r\n                    $location.path('/access_control/clients');\r\n                });\r\n        };\r\n\r\n        $scope.back = function()\r\n        {\r\n            $location.path('/access_control/clients');\r\n        };\r\n    }]);\r\n","application.controller('AccessControlClientsReadController', ['$location', '$mdDialog', '$scope', '$translate', 'Client', 'client',\r\n    function($location, $mdDialog, $scope, $translate, Client, client)\r\n    {\r\n        $scope.client = client.data;\r\n\r\n        $scope.back = function()\r\n        {\r\n            $location.path('/access_control/clients');\r\n        };\r\n\r\n        $scope.delete = function($event, client)\r\n        {\r\n            $translate([\r\n                'dialog_title_delete_record',\r\n                'dialog_content_delete_record',\r\n                'action_delete',\r\n                'action_cancel',\r\n            ])\r\n            .then(function(translations)\r\n            {\r\n                return $mdDialog.confirm()\r\n                    .title(translations.dialog_title_delete_record)\r\n                    .content(translations.dialog_content_delete_record)\r\n                    .ok(translations.action_delete)\r\n                    .cancel(translations.action_cancel)\r\n                    .targetEvent($event);\r\n            })\r\n            .then(function(dialog)\r\n            {\r\n                return $mdDialog.show(dialog);\r\n            })\r\n            .then(function()\r\n            {\r\n                return Client.delete({\r\n                    client_id: client.id,\r\n                });\r\n            })\r\n            .then(function()\r\n            {\r\n                $location.path('/access_control/clients');\r\n            });\r\n        };\r\n\r\n        $scope.update = function(client)\r\n        {\r\n            $location.path('/access_control/clients/' + client.id + '/update');\r\n        };\r\n    }]);\r\n","application.controller('AccessControlClientsUpdateController', ['$scope', '$window', 'Client', 'client',\r\n    function($scope, $window, Client, client)\r\n    {\r\n        $scope.data = client.data;\r\n\r\n        $scope.update = function(data)\r\n        {\r\n            var client = new Client(data);\r\n\r\n            client.$update()\r\n                .then(function()\r\n                {\r\n                    $window.history.back();\r\n                });\r\n        };\r\n\r\n        $scope.back = function()\r\n        {\r\n            $window.history.back();\r\n        };\r\n    }]);\r\n","application.controller('AccessControlUsersCreateController', ['$location', '$scope', 'User',\r\n    function($location, $scope, User)\r\n    {\r\n        $scope.data = {\r\n            username: '',\r\n            password: '',\r\n            password_confirmation: '',\r\n        };\r\n\r\n        $scope.add = function(data)\r\n        {\r\n            var user = new User(data);\r\n\r\n            user.$save()\r\n                .then(function()\r\n                {\r\n                    $location.path('/access_control/users');\r\n                })\r\n        };\r\n\r\n        $scope.back = function()\r\n        {\r\n            $location.path('/access_control/users');\r\n        };\r\n    }]);\r\n","application.controller('AccessControlUsersReadController', ['$location', '$mdDialog', '$scope', '$translate', 'User', 'user',\r\n    function($location, $mdDialog, $scope, $translate, User, user)\r\n    {\r\n        $scope.user = user.data;\r\n\r\n        $scope.back = function()\r\n        {\r\n            $location.path('/access_control/users');\r\n        };\r\n\r\n        $scope.delete = function($event, user)\r\n        {\r\n            $translate([\r\n                'dialog_title_delete_record',\r\n                'dialog_content_delete_record',\r\n                'action_delete',\r\n                'action_cancel',\r\n            ])\r\n            .then(function(translations)\r\n            {\r\n                return $mdDialog.confirm()\r\n                    .title(translations.dialog_title_delete_record)\r\n                    .content(translations.dialog_content_delete_record)\r\n                    .ok(translations.action_delete)\r\n                    .cancel(translations.action_cancel)\r\n                    .targetEvent($event);\r\n            })\r\n            .then(function(dialog)\r\n            {\r\n                return $mdDialog.show(dialog);\r\n            })\r\n            .then(function()\r\n            {\r\n                return User.delete({\r\n                    user_id: user.id,\r\n                }).$promise;\r\n            })\r\n            .then(function()\r\n            {\r\n                $location.path('/access_control/users');\r\n            });\r\n        };\r\n    }]);\r\n","application.factory('API', ['Settings',\r\n    function(Settings)\r\n    {\r\n        var api = {};\r\n\r\n        api.access_token    = '/api/access_token';\r\n        api.session         = '/api/session';\r\n        api.users           = '/api/users/:user_id';\r\n        api.scopes          = '/api/scopes/:scope_id';\r\n        api.grants          = '/api/grants/:grant_id';\r\n        api.grantScopes     = '/api/grants/:grant_id/scopes/:scope_id';\r\n        api.clients         = '/api/clients/:client_id';\r\n        api.clientGrants    = '/api/clients/:client_id/grants/:grant_id';\r\n        api.clientScopes    = '/api/clients/:client_id/scopes/:scope_id';\r\n\r\n        api.get = function(endpoint)\r\n        {\r\n            return Settings.host.concat(api[endpoint]);\r\n        };\r\n\r\n        return api;\r\n    }]);\r\n","application.factory('Auth', ['$http', '$location', '$q', '$window', 'API', 'Settings',\r\n    function($http, $location, $q, $window, API, Settings)\r\n    {\r\n        var auth = {};\r\n\r\n        auth.forget = function()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            $window.localStorage.removeItem('expires_in');\r\n            $window.localStorage.removeItem('access_token');\r\n            $window.localStorage.removeItem('refresh_token');\r\n            $window.localStorage.removeItem('token_type');\r\n            $location.path('/login');\r\n\r\n            deferred.resolve();\r\n\r\n            return deferred.promise;\r\n        };\r\n\r\n        auth.handler = function(response)\r\n        {\r\n            $window.localStorage.expires_in      = response.data.expires_in;\r\n            $window.localStorage.access_token    = response.data.access_token;\r\n            $window.localStorage.refresh_token   = response.data.refresh_token;\r\n            $window.localStorage.token_type      = response.data.token_type;\r\n            return response;\r\n        };\r\n\r\n        auth.isGuest = function()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            auth.isLogged()\r\n                .then(function()\r\n                {\r\n                    deferred.reject('auth.is_guest');\r\n                })\r\n                .catch(function()\r\n                {\r\n                    deferred.resolve(true);\r\n                });\r\n\r\n            return deferred.promise;\r\n        };\r\n\r\n        auth.isLogged = function()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            if ($window.localStorage.hasOwnProperty('expires_in') &&\r\n                $window.localStorage.hasOwnProperty('access_token') &&\r\n                $window.localStorage.hasOwnProperty('refresh_token') &&\r\n                $window.localStorage.hasOwnProperty('token_type')) {\r\n                deferred.resolve(true);\r\n            } else {\r\n                deferred.reject('auth.is_logged');\r\n            }\r\n\r\n            return deferred.promise;\r\n        };\r\n\r\n        auth.refresh = function()\r\n        {\r\n            var data = {\r\n                grant_type: 'refresh_token',\r\n                client_id: Settings.client_id,\r\n                client_secret: Settings.client_secret,\r\n                scope: Settings.scopes.join(),\r\n                refresh_token: $window.localStorage.refresh_token,\r\n            };\r\n\r\n            return $http.post(API.get('access_token'), data)\r\n                .then(auth.handler);\r\n        };\r\n\r\n        auth.session = function()\r\n        {\r\n            return $http.get(API.get('session'));\r\n        };\r\n\r\n        auth.verify = function(credentials)\r\n        {\r\n            var data = {\r\n                grant_type: 'password',\r\n                client_id: Settings.client_id,\r\n                client_secret: Settings.client_secret,\r\n                scope: Settings.scopes.join(),\r\n                username: credentials['username'],\r\n                password: credentials['password'],\r\n            };\r\n\r\n            return $http.post(API.get('access_token'), data)\r\n                .then(auth.handler);\r\n        };\r\n\r\n        return auth;\r\n    }]);\r\n\r\n","application.factory('Client', ['$resource', 'API',\r\n    function($resource, API)\r\n    {\r\n        return $resource(API.get('clients'), {\r\n            client_id: '@id',\r\n        }, {\r\n            delete: {\r\n                method: 'DELETE',\r\n            },\r\n            get: {\r\n                method: 'GET',\r\n            },\r\n            save: {\r\n                method: 'POST',\r\n            },\r\n            query: {\r\n                method: 'GET',\r\n                isArray: false,\r\n            },\r\n            update: {\r\n                method: 'PUT',\r\n            },\r\n        });\r\n    }]);\r\n","application.factory('HttpInterceptor', ['$injector', '$q', '$translate', '$window',\r\n    function($injector, $q, $translate, $window)\r\n    {\r\n        var refreshPromise = null;\r\n\r\n        var httpInterceptor = {};\r\n\r\n        httpInterceptor.request = function(config)\r\n        {\r\n            if ($injector.get('Auth').isLogged()) {\r\n                var token_type = $window.localStorage.token_type;\r\n                var access_token = $window.localStorage.access_token;\r\n                config.headers.Authorization = token_type + ' ' + access_token;\r\n            }\r\n\r\n            return config;\r\n        };\r\n\r\n        httpInterceptor.responseError = function(rejection)\r\n        {\r\n            console.error(rejection);\r\n\r\n            switch (rejection.status) {\r\n                case 401:\r\n                    refreshPromise = refreshPromise ? refreshPromise :\r\n                        $injector.get('Auth').refresh();\r\n\r\n                    return refreshPromise.finally(function()\r\n                        {\r\n                            refreshPromise = null;\r\n                        })\r\n                        .then(function()\r\n                        {\r\n                            return $injector.get('$http')(rejection.config);\r\n                        });\r\n\r\n                case 422:\r\n                    $translate('toast_validation_failed')\r\n                        .then(function(text)\r\n                        {\r\n                            var $mdToast = $injector.get('$mdToast');\r\n                            var toast = $mdToast.simple()\r\n                                .content(text)\r\n                                .position('bottom left right');\r\n                            $mdToast.show(toast);\r\n                        });\r\n\r\n                    return $q.reject(rejection);\r\n\r\n                case 500:\r\n                    if (rejection.data.message == 'The user credentials were incorrect.') {\r\n                        $translate('toast_incorrect_credentials')\r\n                            .then(function(text)\r\n                            {\r\n                                var $mdToast = $injector.get('$mdToast');\r\n                                var toast = $mdToast.simple()\r\n                                    .content(text)\r\n                                    .position('bottom left right');\r\n                                $mdToast.show(toast);\r\n                            });\r\n\r\n                        return $q.reject(rejection);\r\n                    }\r\n\r\n                    if (rejection.data.message == 'The refresh token is invalid.') {\r\n                        $translate('toast_invalid_refresh_token')\r\n                            .then(function(text)\r\n                            {\r\n                                var $mdToast = $injector.get('$mdToast');\r\n                                var toast = $mdToast.simple()\r\n                                    .content(text)\r\n                                    .position('bottom left right');\r\n                                $mdToast.show(toast);\r\n                            });\r\n                    }\r\n\r\n                    $injector.get('Auth')\r\n                        .forget();\r\n\r\n                    return $q.reject(rejection);\r\n            }\r\n        };\r\n\r\n        return httpInterceptor;\r\n    }]);\r\n","application.factory('User', ['$resource', 'API',\r\n    function($resource, API)\r\n    {\r\n        return $resource(API.get('users'), {\r\n                user_id: '@id',\r\n            }, {\r\n                delete: {\r\n                    method: 'DELETE',\r\n                },\r\n                get: {\r\n                    method: 'GET',\r\n                },\r\n                save: {\r\n                    method: 'POST',\r\n                },\r\n                query: {\r\n                    method: 'GET',\r\n                    isArray: false,\r\n                },\r\n                update: {\r\n                    method: 'PUT',\r\n                },\r\n            });\r\n    }]);\r\n"],"sourceRoot":"/source/"}